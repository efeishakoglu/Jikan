<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Hierodule: Global</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Hierodule
   &#160;<span id="projectnumber">1.3.0</span>
   </div>
   <div id="projectbrief">Utility module set for STM32 MCUs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___a_d_c___public.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Global<div class="ingroups"><a class="el" href="group___hierodule___a_d_c.html">ADC Module</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Elements of the module that are not confined to the scope of the compilation unit. Perfectly corresponds to the module's header file, except the IRQ handlers.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html">HIERODULE_ADC_Wrapper</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct that keeps variables for the ADC data, a pointer to the ADC peripheral and a pointer to the ISR for EOC.  <a href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga6de048dc6a9557209d4380b03bb8672b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c___public.html#ga6de048dc6a9557209d4380b03bb8672b">HIERODULE_ADC_SMOOTHENING_FILTER</a></td></tr>
<tr class="memdesc:ga6de048dc6a9557209d4380b03bb8672b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Precompiler constant to toggle ADC smoothing filter.  <a href="group___a_d_c___public.html#ga6de048dc6a9557209d4380b03bb8672b">More...</a><br /></td></tr>
<tr class="separator:ga6de048dc6a9557209d4380b03bb8672b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga210f0c3fe688d1187fc98e4e40689f92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html">HIERODULE_ADC_Wrapper</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c___public.html#ga210f0c3fe688d1187fc98e4e40689f92">HIERODULE_ADC_InitWrapper</a> (ADC_TypeDef *_ADC, void(*ISR)(uint16_t))</td></tr>
<tr class="memdesc:ga210f0c3fe688d1187fc98e4e40689f92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a wrapper for the specified ADC peripheral.  <a href="group___a_d_c___public.html#ga210f0c3fe688d1187fc98e4e40689f92">More...</a><br /></td></tr>
<tr class="separator:ga210f0c3fe688d1187fc98e4e40689f92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2688eb7fcc064a7b30ea979ae4ca721"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c___public.html#gad2688eb7fcc064a7b30ea979ae4ca721">HIERODULE_ADC_ReleaseWrapper</a> (<a class="el" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html">HIERODULE_ADC_Wrapper</a> *Wrapper)</td></tr>
<tr class="memdesc:gad2688eb7fcc064a7b30ea979ae4ca721"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the memory allocated to an ADC wrapper.  <a href="group___a_d_c___public.html#gad2688eb7fcc064a7b30ea979ae4ca721">More...</a><br /></td></tr>
<tr class="separator:gad2688eb7fcc064a7b30ea979ae4ca721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46ecd925af044e69b67e585963710f74"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c___public.html#ga46ecd925af044e69b67e585963710f74">HIERODULE_ADC_Enable</a> (<a class="el" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html">HIERODULE_ADC_Wrapper</a> *Wrapper)</td></tr>
<tr class="memdesc:ga46ecd925af044e69b67e585963710f74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates relevant control register bits to start ADC action.  <a href="group___a_d_c___public.html#ga46ecd925af044e69b67e585963710f74">More...</a><br /></td></tr>
<tr class="separator:ga46ecd925af044e69b67e585963710f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf81fbff1c7fcd1b761d9e66fefbb2f1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c___public.html#gaf81fbff1c7fcd1b761d9e66fefbb2f1a">HIERODULE_ADC_Disable</a> (<a class="el" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html">HIERODULE_ADC_Wrapper</a> *Wrapper)</td></tr>
<tr class="memdesc:gaf81fbff1c7fcd1b761d9e66fefbb2f1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates relevant control register bits to stop ADC action.  <a href="group___a_d_c___public.html#gaf81fbff1c7fcd1b761d9e66fefbb2f1a">More...</a><br /></td></tr>
<tr class="separator:gaf81fbff1c7fcd1b761d9e66fefbb2f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e8fca6e2f18e433a9fbc3d2dcc0b411"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c___public.html#ga3e8fca6e2f18e433a9fbc3d2dcc0b411">ADC1_2_IRQHandler</a> (void)</td></tr>
<tr class="memdesc:ga3e8fca6e2f18e433a9fbc3d2dcc0b411"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC1_2 IRQ implementation.<br  />
Requires the device specific macro __STM32F103xB_H to be defined.  <a href="group___a_d_c___public.html#ga3e8fca6e2f18e433a9fbc3d2dcc0b411">More...</a><br /></td></tr>
<tr class="separator:ga3e8fca6e2f18e433a9fbc3d2dcc0b411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06406eadf297fa89a6eaf9586b227a69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c___public.html#ga06406eadf297fa89a6eaf9586b227a69">ADC_IRQHandler</a> (void)</td></tr>
<tr class="memdesc:ga06406eadf297fa89a6eaf9586b227a69"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC IRQ implementation.<br  />
Requires the device specific macro __STM32F401xC_H to be defined.  <a href="group___a_d_c___public.html#ga06406eadf297fa89a6eaf9586b227a69">More...</a><br /></td></tr>
<tr class="separator:ga06406eadf297fa89a6eaf9586b227a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88d6fd3110ac254a094cd297ec537007"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c___public.html#ga88d6fd3110ac254a094cd297ec537007">ADC1_IRQHandler</a> (void)</td></tr>
<tr class="memdesc:ga88d6fd3110ac254a094cd297ec537007"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC1 IRQ implementation.<br  />
Requires the device specific macro __STM32F030x6_H to be defined.  <a href="group___a_d_c___public.html#ga88d6fd3110ac254a094cd297ec537007">More...</a><br /></td></tr>
<tr class="separator:ga88d6fd3110ac254a094cd297ec537007"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Consists of basic ADC peripheral handler routines and an ADC Wrapper struct, as well as an initializer for it.<br  />
Device-specific macro constants and type definitions are imported with an include directive to main.h, where the device driver headers are assumed to be included.<br  />
stdlib.h also included for malloc. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga6de048dc6a9557209d4380b03bb8672b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6de048dc6a9557209d4380b03bb8672b">&#9670;&nbsp;</a></span>HIERODULE_ADC_SMOOTHENING_FILTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HIERODULE_ADC_SMOOTHENING_FILTER</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When commented out, filter relevant variables and functions won't be compiled and received data won't be filtered. </p>

<p class="definition">Definition at line <a class="el" href="hierodule__adc_8h_source.html#l00038">38</a> of file <a class="el" href="hierodule__adc_8h_source.html">hierodule_adc.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3e8fca6e2f18e433a9fbc3d2dcc0b411"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3e8fca6e2f18e433a9fbc3d2dcc0b411">&#9670;&nbsp;</a></span>ADC1_2_IRQHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ADC1_2_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>If the wrapper to an ADC peripheral is allocated and flag checks are true, data holder in the assigned wrapper gets updated. If the wrapper has an ISR assigned, that is also invoked.<br  />
 Notice the filter is optional. </p>

<p class="definition">Definition at line <a class="el" href="hierodule__adc_8c_source.html#l00176">176</a> of file <a class="el" href="hierodule__adc_8c_source.html">hierodule_adc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;{</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a> != NULL)</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">if</span> (READ_BIT(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;CR1, ADC_CR1_EOCIE) == (ADC_CR1_EOCIE))</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="keywordflow">if</span> (READ_BIT(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;SR, ADC_SR_EOC) == (ADC_SR_EOC))</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="preprocessor">                #ifdef HIERODULE_ADC_SMOOTHENING_FILTER </span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <a class="code" href="group___a_d_c___private.html#ga83ab26599aa494bb4c722193d8e6ee2b">Smoothen</a>(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">                #else </span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                <a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#af75ea13d281210e54c4d4c09ea42b1df">Data</a> = <a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;DR;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">                #endif </span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a20fd92af9b619e1e04ac1da0864799c2">Data_Handler</a> != NULL)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    <a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a20fd92af9b619e1e04ac1da0864799c2">Data_Handler</a>(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#af75ea13d281210e54c4d4c09ea42b1df">Data</a>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="group___a_d_c___private.html#gad73a96331bb97e62863746372525ff5b">ADC2_Wrapper</a> != NULL)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">if</span> (READ_BIT(<a class="code" href="group___a_d_c___private.html#gad73a96331bb97e62863746372525ff5b">ADC2_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;CR1, ADC_CR1_EOCIE) == (ADC_CR1_EOCIE))</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="keywordflow">if</span> (READ_BIT(<a class="code" href="group___a_d_c___private.html#gad73a96331bb97e62863746372525ff5b">ADC2_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;SR, ADC_SR_EOC) == (ADC_SR_EOC))</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="preprocessor">                #ifdef HIERODULE_ADC_SMOOTHENING_FILTER </span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                <a class="code" href="group___a_d_c___private.html#ga83ab26599aa494bb4c722193d8e6ee2b">Smoothen</a>(<a class="code" href="group___a_d_c___private.html#gad73a96331bb97e62863746372525ff5b">ADC2_Wrapper</a>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="preprocessor">                #else </span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                <a class="code" href="group___a_d_c___private.html#gad73a96331bb97e62863746372525ff5b">ADC2_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#af75ea13d281210e54c4d4c09ea42b1df">Data</a> = <a class="code" href="group___a_d_c___private.html#gad73a96331bb97e62863746372525ff5b">ADC2_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;DR;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="preprocessor">                #endif </span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="group___a_d_c___private.html#gad73a96331bb97e62863746372525ff5b">ADC2_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a20fd92af9b619e1e04ac1da0864799c2">Data_Handler</a> != NULL)</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                    <a class="code" href="group___a_d_c___private.html#gad73a96331bb97e62863746372525ff5b">ADC2_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a20fd92af9b619e1e04ac1da0864799c2">Data_Handler</a>(<a class="code" href="group___a_d_c___private.html#gad73a96331bb97e62863746372525ff5b">ADC2_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#af75ea13d281210e54c4d4c09ea42b1df">Data</a>);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div>
<div class="ttc" id="agroup___a_d_c___private_html_ga83ab26599aa494bb4c722193d8e6ee2b"><div class="ttname"><a href="group___a_d_c___private.html#ga83ab26599aa494bb4c722193d8e6ee2b">Smoothen</a></div><div class="ttdeci">void Smoothen(HIERODULE_ADC_Wrapper *Wrapper)</div><div class="ttdoc">Applies a cumulative-smoothening filter before updating the wrapper data field.</div><div class="ttdef"><b>Definition:</b> <a href="hierodule__adc_8c_source.html#l00047">hierodule_adc.c:47</a></div></div>
<div class="ttc" id="agroup___a_d_c___private_html_gad73a96331bb97e62863746372525ff5b"><div class="ttname"><a href="group___a_d_c___private.html#gad73a96331bb97e62863746372525ff5b">ADC2_Wrapper</a></div><div class="ttdeci">static HIERODULE_ADC_Wrapper * ADC2_Wrapper</div><div class="ttdoc">ADC wrapper pointer meant for ADC2. Requires the device specific macro __STM32F103xB_H to be defined.</div><div class="ttdef"><b>Definition:</b> <a href="hierodule__adc_8c_source.html#l00034">hierodule_adc.c:34</a></div></div>
<div class="ttc" id="agroup___a_d_c___private_html_gadb7acec4931a0539c7f315eeb662c883"><div class="ttname"><a href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a></div><div class="ttdeci">static HIERODULE_ADC_Wrapper * ADC1_Wrapper</div><div class="ttdoc">ADC wrapper pointer meant for ADC1.</div><div class="ttdef"><b>Definition:</b> <a href="hierodule__adc_8c_source.html#l00027">hierodule_adc.c:27</a></div></div>
<div class="ttc" id="astruct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper_html_a14252f85530d18d762205e792e15d14b"><div class="ttname"><a href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">HIERODULE_ADC_Wrapper::_ADC</a></div><div class="ttdeci">ADC_TypeDef * _ADC</div><div class="ttdoc">Pointer to the ADC peripheral.</div><div class="ttdef"><b>Definition:</b> <a href="hierodule__adc_8h_source.html#l00051">hierodule_adc.h:51</a></div></div>
<div class="ttc" id="astruct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper_html_a20fd92af9b619e1e04ac1da0864799c2"><div class="ttname"><a href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a20fd92af9b619e1e04ac1da0864799c2">HIERODULE_ADC_Wrapper::Data_Handler</a></div><div class="ttdeci">void(* Data_Handler)(uint16_t)</div><div class="ttdoc">Pointer to the ISR for EOC.</div><div class="ttdef"><b>Definition:</b> <a href="hierodule__adc_8h_source.html#l00067">hierodule_adc.h:67</a></div></div>
<div class="ttc" id="astruct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper_html_af75ea13d281210e54c4d4c09ea42b1df"><div class="ttname"><a href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#af75ea13d281210e54c4d4c09ea42b1df">HIERODULE_ADC_Wrapper::Data</a></div><div class="ttdeci">uint16_t Data</div><div class="ttdoc">Variable to assign the received ADC data.</div><div class="ttdef"><b>Definition:</b> <a href="hierodule__adc_8h_source.html#l00055">hierodule_adc.h:55</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hierodule__adc_8h_source.html#l00051">HIERODULE_ADC_Wrapper::_ADC</a>, <a class="el" href="hierodule__adc_8c_source.html#l00027">ADC1_Wrapper</a>, <a class="el" href="hierodule__adc_8c_source.html#l00034">ADC2_Wrapper</a>, <a class="el" href="hierodule__adc_8h_source.html#l00055">HIERODULE_ADC_Wrapper::Data</a>, <a class="el" href="hierodule__adc_8h_source.html#l00067">HIERODULE_ADC_Wrapper::Data_Handler</a>, and <a class="el" href="hierodule__adc_8c_source.html#l00047">Smoothen()</a>.</p>

</div>
</div>
<a id="ga88d6fd3110ac254a094cd297ec537007"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88d6fd3110ac254a094cd297ec537007">&#9670;&nbsp;</a></span>ADC1_IRQHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ADC1_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>If the wrapper to an ADC peripheral is allocated and flag checks are true, data holder in the assigned wrapper gets updated. If the wrapper has an ISR assigned, that is also invoked.<br  />
 Notice the filter is optional. </p>

<p class="definition">Definition at line <a class="el" href="hierodule__adc_8c_source.html#l00267">267</a> of file <a class="el" href="hierodule__adc_8c_source.html">hierodule_adc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;{</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a> != NULL)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">if</span> (READ_BIT(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;IER, ADC_IER_EOCIE) == (ADC_IER_EOCIE))</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <span class="keywordflow">if</span> (READ_BIT(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;ISR, ADC_ISR_EOC) == (ADC_ISR_EOC))</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="preprocessor">                #ifdef HIERODULE_ADC_SMOOTHENING_FILTER </span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                <a class="code" href="group___a_d_c___private.html#ga83ab26599aa494bb4c722193d8e6ee2b">Smoothen</a>(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="preprocessor">                #else </span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                <a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#af75ea13d281210e54c4d4c09ea42b1df">Data</a> = <a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;DR;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="preprocessor">                #endif </span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a20fd92af9b619e1e04ac1da0864799c2">Data_Handler</a> != NULL)</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                {</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                    <a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a20fd92af9b619e1e04ac1da0864799c2">Data_Handler</a>(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#af75ea13d281210e54c4d4c09ea42b1df">Data</a>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hierodule__adc_8h_source.html#l00051">HIERODULE_ADC_Wrapper::_ADC</a>, <a class="el" href="hierodule__adc_8c_source.html#l00027">ADC1_Wrapper</a>, <a class="el" href="hierodule__adc_8h_source.html#l00055">HIERODULE_ADC_Wrapper::Data</a>, <a class="el" href="hierodule__adc_8h_source.html#l00067">HIERODULE_ADC_Wrapper::Data_Handler</a>, and <a class="el" href="hierodule__adc_8c_source.html#l00047">Smoothen()</a>.</p>

</div>
</div>
<a id="ga06406eadf297fa89a6eaf9586b227a69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga06406eadf297fa89a6eaf9586b227a69">&#9670;&nbsp;</a></span>ADC_IRQHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ADC_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>If the wrapper to an ADC peripheral is allocated and flag checks are true, data holder in the assigned wrapper gets updated. If the wrapper has an ISR assigned, that is also invoked.<br  />
 Notice the filter is optional. </p>

<p class="definition">Definition at line <a class="el" href="hierodule__adc_8c_source.html#l00233">233</a> of file <a class="el" href="hierodule__adc_8c_source.html">hierodule_adc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;{</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a> != NULL)</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">if</span> (READ_BIT(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;CR1, ADC_CR1_EOCIE) == (ADC_CR1_EOCIE))</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="keywordflow">if</span> (READ_BIT(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;SR, ADC_SR_EOC) == (ADC_SR_EOC))</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="preprocessor">                #ifdef HIERODULE_ADC_SMOOTHENING_FILTER </span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <a class="code" href="group___a_d_c___private.html#ga83ab26599aa494bb4c722193d8e6ee2b">Smoothen</a>(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="preprocessor">                #else </span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                <a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#af75ea13d281210e54c4d4c09ea42b1df">Data</a> = <a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;DR;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="preprocessor">                #endif </span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a20fd92af9b619e1e04ac1da0864799c2">Data_Handler</a> != NULL)</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                    <a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a20fd92af9b619e1e04ac1da0864799c2">Data_Handler</a>(<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#af75ea13d281210e54c4d4c09ea42b1df">Data</a>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hierodule__adc_8h_source.html#l00051">HIERODULE_ADC_Wrapper::_ADC</a>, <a class="el" href="hierodule__adc_8c_source.html#l00027">ADC1_Wrapper</a>, <a class="el" href="hierodule__adc_8h_source.html#l00055">HIERODULE_ADC_Wrapper::Data</a>, <a class="el" href="hierodule__adc_8h_source.html#l00067">HIERODULE_ADC_Wrapper::Data_Handler</a>, and <a class="el" href="hierodule__adc_8c_source.html#l00047">Smoothen()</a>.</p>

</div>
</div>
<a id="gaf81fbff1c7fcd1b761d9e66fefbb2f1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf81fbff1c7fcd1b761d9e66fefbb2f1a">&#9670;&nbsp;</a></span>HIERODULE_ADC_Disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HIERODULE_ADC_Disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html">HIERODULE_ADC_Wrapper</a> *&#160;</td>
          <td class="paramname"><em>Wrapper</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Wrapper</td><td>Pointer to the ADC wrapper. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>Self-explanatory code, nothing to elaborate. </p>

<p class="definition">Definition at line <a class="el" href="hierodule__adc_8c_source.html#l00146">146</a> of file <a class="el" href="hierodule__adc_8c_source.html">hierodule_adc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;{</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor">    #if ( (defined __STM32F103xB_H) || (defined __STM32F401xC_H) ) </span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    CLEAR_BIT(Wrapper-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;CR1, ADC_CR1_EOCIE);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    CLEAR_BIT(Wrapper-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;CR2, ADC_CR2_ADON);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">    #ifdef __STM32F103xB_H </span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    CLEAR_BIT(Wrapper-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;CR2, (ADC_CR2_SWSTART | ADC_CR2_EXTTRIG));</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="preprocessor">    #elif defined __STM32F401xC_H </span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    CLEAR_BIT(Wrapper-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;CR2, ADC_CR2_SWSTART);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="preprocessor">    #elif defined __STM32F030x6_H </span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    SET_BIT(Wrapper-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;CR, ADC_CR_ADDIS);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    SET_BIT(Wrapper-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;CR, ADC_CR_ADSTP);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="preprocessor">    #endif </span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hierodule__adc_8h_source.html#l00051">HIERODULE_ADC_Wrapper::_ADC</a>.</p>

<p class="reference">Referenced by <a class="el" href="hierodule__adc_8c_source.html#l00108">HIERODULE_ADC_ReleaseWrapper()</a>.</p>

</div>
</div>
<a id="ga46ecd925af044e69b67e585963710f74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga46ecd925af044e69b67e585963710f74">&#9670;&nbsp;</a></span>HIERODULE_ADC_Enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HIERODULE_ADC_Enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html">HIERODULE_ADC_Wrapper</a> *&#160;</td>
          <td class="paramname"><em>Wrapper</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Wrapper</td><td>Pointer to the ADC wrapper. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>Self-explanatory code, nothing to elaborate. </p>

<p class="definition">Definition at line <a class="el" href="hierodule__adc_8c_source.html#l00118">118</a> of file <a class="el" href="hierodule__adc_8c_source.html">hierodule_adc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;{</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">    #if ( (defined __STM32F103xB_H) || (defined __STM32F401xC_H) ) </span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    SET_BIT(Wrapper-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;CR1, ADC_CR1_EOCIE);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    CLEAR_BIT(Wrapper-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;SR, ADC_SR_EOC);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    SET_BIT(Wrapper-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;CR2, ADC_CR2_ADON);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">    #ifdef __STM32F103xB_H </span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    SET_BIT(Wrapper-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;CR2, (ADC_CR2_SWSTART | ADC_CR2_EXTTRIG));</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">    #elif defined __STM32F401xC_H </span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    SET_BIT(Wrapper-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;CR2, ADC_CR2_SWSTART);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor">    #elif defined __STM32F030x6_H </span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    SET_BIT(Wrapper-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;IER, ADC_IER_EOCIE);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    CLEAR_BIT(Wrapper-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;ISR, ADC_ISR_EOC);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    SET_BIT(Wrapper-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;CR, ADC_CR_ADEN);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    SET_BIT(Wrapper-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a>-&gt;CR, ADC_CR_ADSTART);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="preprocessor">    #endif </span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hierodule__adc_8h_source.html#l00051">HIERODULE_ADC_Wrapper::_ADC</a>.</p>

</div>
</div>
<a id="ga210f0c3fe688d1187fc98e4e40689f92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga210f0c3fe688d1187fc98e4e40689f92">&#9670;&nbsp;</a></span>HIERODULE_ADC_InitWrapper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html">HIERODULE_ADC_Wrapper</a> ** HIERODULE_ADC_InitWrapper </td>
          <td>(</td>
          <td class="paramtype">ADC_TypeDef *&#160;</td>
          <td class="paramname"><em>_ADC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(uint16_t)&#160;</td>
          <td class="paramname"><em>ISR</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_ADC</td><td>ADC peripheral of the wrapper. </td></tr>
    <tr><td class="paramname">ISR</td><td>Pointer to the ISR for EOC. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Double pointer to the initialized wrapper.</dd></dl>
<p>Smoothening filter weight is initially set to 0.5, which may be changed during the wrapper's lifetime.<br  />
The wrapper pointer gets a new address allocated, to be freed at some future point via <a class="el" href="group___a_d_c___public.html#gad2688eb7fcc064a7b30ea979ae4ca721">HIERODULE_ADC_ReleaseWrapper</a>, hence the reason a pointer is used for the wrapper; likewise, a double pointer is used to return it by reference.<br  />
 Device specific checks are performed for the ADC peripheral specified. </p>

<p class="definition">Definition at line <a class="el" href="hierodule__adc_8c_source.html#l00067">67</a> of file <a class="el" href="hierodule__adc_8c_source.html">hierodule_adc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html">HIERODULE_ADC_Wrapper</a> **Wrapper;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    uint32_t ADC_Address = (uint32_t)_ADC;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">switch</span>(ADC_Address)</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">case</span> ( (uint32_t)ADC1 ):</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            Wrapper = &amp;<a class="code" href="group___a_d_c___private.html#gadb7acec4931a0539c7f315eeb662c883">ADC1_Wrapper</a>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">        #ifdef __STM32F103xB_H </span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">case</span> ( (uint32_t)ADC2 ):</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            Wrapper = &amp;<a class="code" href="group___a_d_c___private.html#gad73a96331bb97e62863746372525ff5b">ADC2_Wrapper</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">        #endif </span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    (*Wrapper) = (<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html">HIERODULE_ADC_Wrapper</a>*)malloc(<span class="keyword">sizeof</span>(<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html">HIERODULE_ADC_Wrapper</a>));</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    (*Wrapper)-&gt;<a class="code" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html#a14252f85530d18d762205e792e15d14b">_ADC</a> = _ADC;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    (*Wrapper)-&gt;Data = 0;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">    #ifdef HIERODULE_ADC_SMOOTHENING_FILTER </span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    (*Wrapper)-&gt;FilterWeight = 0.5;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">    #endif </span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    (*Wrapper)-&gt;Data_Handler = ISR;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> Wrapper;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
<div class="ttc" id="astruct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper_html"><div class="ttname"><a href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html">HIERODULE_ADC_Wrapper</a></div><div class="ttdoc">Struct that keeps variables for the ADC data, a pointer to the ADC peripheral and a pointer to the IS...</div><div class="ttdef"><b>Definition:</b> <a href="hierodule__adc_8h_source.html#l00046">hierodule_adc.h:47</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hierodule__adc_8h_source.html#l00051">HIERODULE_ADC_Wrapper::_ADC</a>, <a class="el" href="hierodule__adc_8c_source.html#l00027">ADC1_Wrapper</a>, and <a class="el" href="hierodule__adc_8c_source.html#l00034">ADC2_Wrapper</a>.</p>

</div>
</div>
<a id="gad2688eb7fcc064a7b30ea979ae4ca721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2688eb7fcc064a7b30ea979ae4ca721">&#9670;&nbsp;</a></span>HIERODULE_ADC_ReleaseWrapper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HIERODULE_ADC_ReleaseWrapper </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_i_e_r_o_d_u_l_e___a_d_c___wrapper.html">HIERODULE_ADC_Wrapper</a> *&#160;</td>
          <td class="paramname"><em>Wrapper</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Wrapper</td><td>Pointer to the ADC wrapper. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None</dd></dl>
<p>Using a released ADC wrapper or its fields may result in unexpected behavior.<br  />
 Keep in mind this clears up the ADC wrapper pointer in this file scope; it is recommended to free your double pointer to the wrapper, likewise. </p>

<p class="definition">Definition at line <a class="el" href="hierodule__adc_8c_source.html#l00108">108</a> of file <a class="el" href="hierodule__adc_8c_source.html">hierodule_adc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;{</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="group___a_d_c___public.html#gaf81fbff1c7fcd1b761d9e66fefbb2f1a">HIERODULE_ADC_Disable</a>(Wrapper);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    free(Wrapper);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    Wrapper = NULL;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div>
<div class="ttc" id="agroup___a_d_c___public_html_gaf81fbff1c7fcd1b761d9e66fefbb2f1a"><div class="ttname"><a href="group___a_d_c___public.html#gaf81fbff1c7fcd1b761d9e66fefbb2f1a">HIERODULE_ADC_Disable</a></div><div class="ttdeci">void HIERODULE_ADC_Disable(HIERODULE_ADC_Wrapper *Wrapper)</div><div class="ttdoc">Updates relevant control register bits to stop ADC action.</div><div class="ttdef"><b>Definition:</b> <a href="hierodule__adc_8c_source.html#l00146">hierodule_adc.c:146</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="hierodule__adc_8c_source.html#l00146">HIERODULE_ADC_Disable()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
